!(function (e) { const t = {}; function n(i) { if (t[i]) return t[i].exports; const o = t[i] = { i, l: !1, exports: {} }; return e[i].call(o.exports, o, o.exports, n), o.l = !0, o.exports; }n.m = e, n.c = t, n.d = function (e, t, i) { n.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: i }); }, n.r = function (e) { typeof Symbol !== 'undefined' && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: 'Module' }), Object.defineProperty(e, '__esModule', { value: !0 }); }, n.t = function (e, t) { if (1 & t && (e = n(e)), 8 & t) return e; if (4 & t && typeof e === 'object' && e && e.__esModule) return e; const i = Object.create(null); if (n.r(i), Object.defineProperty(i, 'default', { enumerable: !0, value: e }), 2 & t && typeof e !== 'string') for (const o in e)n.d(i, o, ((t) => e[t]).bind(null, o)); return i; }, n.n = function (e) { const t = e && e.__esModule ? function () { return e.default; } : function () { return e; }; return n.d(t, 'a', t), t; }, n.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t); }, n.p = '', n(n.s = 0); }([function (e, t, n) {
  n.r(t), n.d(t, 'default', (() => d)); const i = function () { const e = (e) => { localStorage.setItem('latitude', e.coords.latitude), localStorage.setItem('longitude', e.coords.longitude), d(); }; const t = () => { localStorage.setItem('latitude', 43.6548), localStorage.setItem('longitude', -79.3883), d(); }; return { getLocation: () => { navigator.geolocation.getCurrentPosition(e, t); } }; }; const o = function () { const e = async (e) => { const t = await fetch(e); if (t.status === 200) { return await t.json(); } throw new Error(t.status); }; return { getFromCoordinates: async (t, n) => { const i = `https://api.openweathermap.org/data/2.5/weather?lat=${Number(t).toFixed(3)}&lon=${Number(n).toFixed(3)}&appid=46330e55c3e301b385d0d4571604500f`; try { return await e(i); } catch (e) {} }, getFromCityName: async (t) => { const n = `https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=46330e55c3e301b385d0d4571604500f`; try { return await e(n); } catch (e) {} } }; }; const r = function () { return { kelvinToCelsius: (e) => e - 273.15, kelvinToFahrenheit: (e) => 1.8 * e - 459.67 }; }; const a = function () { const e = (e, t) => `${e}Â° ${t}`; const t = (t, n) => { n === 1 ? (document.getElementById('current-temperature').innerText = `Current Temperature: ${e(r().kelvinToCelsius(t.main.temp).toFixed(1), 'C')}`, document.getElementById('feels-like').innerText = `Feels Like: ${e(r().kelvinToCelsius(t.main.feels_like).toFixed(1), 'C')}`, document.getElementById('daily-max').innerText = `Maximum: ${e(r().kelvinToCelsius(t.main.temp_max).toFixed(1), 'C')}`, document.getElementById('daily-min').innerText = `Minimum: ${e(r().kelvinToCelsius(t.main.temp_min).toFixed(1), 'C')}`) : n === 2 && (document.getElementById('current-temperature').innerText = `Current Temperature: ${e(r().kelvinToFahrenheit(t.main.temp).toFixed(1), 'F')}`, document.getElementById('feels-like').innerText = `Feels Like: ${e(r().kelvinToFahrenheit(t.main.feels_like).toFixed(1), 'F')}`, document.getElementById('daily-max').innerText = `Maximum: ${e(r().kelvinToFahrenheit(t.main.temp_max).toFixed(1), 'F')}`, document.getElementById('daily-min').innerText = `Minimum: ${e(r().kelvinToFahrenheit(t.main.temp_min).toFixed(1), 'F')}`); }; return { displayWeather: t, displayAll: (e, n) => { let i; document.getElementById('location').innerText = `${e.name}, ${e.sys.country}`, document.getElementById('humidity').innerText = `Humidity: ${e.main.humidity}%`, document.getElementById('wind-speed').innerText = `Wind Speed: ${(3.6 * e.wind.speed).toFixed(1)} km/h`, document.getElementById('description-text').innerText = `${(i = e.weather[0].description).charAt(0).toUpperCase()}${i.slice(1)}`, document.getElementById('description-image').src = `./assets/${e.weather[0].icon}@2x.png`, t(e, n); } }; }; window.onload = i().getLocation(), document.getElementById('switchUnits').onclick = function () { l === 1 ? (l = 2, document.getElementById('switchUnits').innerText = 'C') : (l = 1, document.getElementById('switchUnits').innerText = 'F'); a().displayWeather(u, l); }, document.querySelector('#search').onclick = function (e) { e.preventDefault(); const t = document.getElementById('search-city').value; const n = { ...u }; t && o().getFromCityName(t).then((e) => { u = { ...e }, a().displayAll(u, l); }).catch((e) => { u = { ...n }, console.log(e), alert('Encountered an Error'); }); }; let l = 1; let u = {}; function d() { o().getFromCoordinates(localStorage.latitude, localStorage.longitude).then((e) => { u = { ...e }, a().displayAll(u, 1); }).catch((e) => { console.log(e); }); }
}]));
